(this.webpackJsonpmindfultech_survey=this.webpackJsonpmindfultech_survey||[]).push([[0],{12:function(e,t,a){e.exports=a(24)},17:function(e,t,a){},18:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),s=a.n(r),c=(a(17),a(18),a(8)),i=a(9),o=a(10),m=a(11),u=a(2),d={scriptURL:"https://script.google.com/macros/s/AKfycbyTEc8ANUpqsbXICYABukqaoHKVL2FVZorMJ3v3KL99nLSVAzob/exec",profile:{name:"\u59d3\u540d",email:"\u96fb\u90f5"},questions:{q1:"\u505a\u4efb\u4f55\u4e8b\u90fd\u89ba\u5f97\u6c89\u60b6\u6216\u8005\u6839\u672c\u4e0d\u60f3\u505a\u4efb\u4f55\u4e8b",q2:"\u60c5\u7dd2\u4f4e\u843d\uff0c\u6291\u90c1\uff0c\u6216\u8005\u7d55\u671b",q3:"\u96e3\u4ee5\u5165\u7761\uff0c\u534a\u591c\u6703\u9192\u6216\u8005\u76f8\u53cd\u7684\u7761\u89ba\u6642\u9593\u904e\u591a",q4:"\u89ba\u5f97\u75b2\u5026\u6216\u8005\u6d3b\u529b\u4e0d\u8db3",q5:"\u80c3\u53e3\u6975\u5dee\u6216\u8005\u9032\u98df\u904e\u91cf",q6:"\u4e0d\u559c\u6b61\u81ea\u5df1-- - \u89ba\u5f97\u81ea\u5df1\u505a\u7684\u4e0d\u597d\uff0c\u5c0d\u81ea\u5df1\u5931\u671b\u6216\u8005\u89ba\u5f97\u62d6\u7d2f\u5bb6\u4eba",q7:"\u96e3\u4ee5\u96c6\u4e2d\u7cbe\u529b\u505a\u4e8b\uff0c\u4f8b\u5982\u770b\u5831\u7d19\uff0c\u770b\u96fb\u8996\uff0c\u6216\u8005\u53c3\u52a0\u6d3b\u52d5",q8:"\u5176\u4ed6\u4eba\u53cd\u61c9\u4f60\u884c\u52d5\u6216\u8005\u8aaa\u8a71\u9072\u7de9\uff1b \u6216\u8005\u76f8\u53cd\u7684\uff0c \u4f60\u6bd4\u5e73\u5e38\u6d3b\u52d5\u66f4\u591a----\u5750\u7acb\u4e0d\u5b89\uff0c\u505c\u4e0d\u4e0b\u4f86",q9:"\u89ba\u5f97\u751f\u7121\u53ef\u6200\u6216\u8005\u6709\u81ea\u6b98\u50be\u5411",q10:"\u4f60\u89ba\u5f97\u4ee5\u4e0a\u4efb\u4f55\u554f\u984c\uff0c\u5c0d\u65bc\u4f60\u7684\u65e5\u5e38\u751f\u6d3b\uff0c\u8207\u4eba\u6e9d\u901a\uff0c\u6216\u8005\u8207\u5bb6\u4eba\u76f8\u8655\u6709\u591a\u56f0\u96e3",q11:"\u611f\u5230\u7dca\u5f35\uff0c\u4e0d\u5b89\uff0c\u6216\u8005\u7169\u8e81",q12:"\u7121\u6cd5\u505c\u6b62\u6216\u8005\u63a7\u5236\u6182\u616e\uff08\u56e0\u70ba\u4f60\u500b\u4eba\u6216\u8005\u5bb6\u5ead\u7684\u4e8b\uff09",q13:"\u96e3\u4ee5\u653e\u677e\uff0c\u5fc3\u7dd2\u4e0d\u5be7\uff0c\u5bb9\u6613\u767c\u6012",q14:"\u5e38\u5e38\u91cd\u5fa9\u81ea\u5df1\u7684\u8aaa\u8a71\uff0c\u6216\u8005\u5fd8\u4e86\u525b\u624d\u81ea\u5df1\u8aaa\u4e86\u4ec0\u9ebc",q15:"\u5fd8\u8a18\u505a\u98ef\u8abf\u6599\u7684\u5206\u91cf\uff0c\u8cb7\u904e\u7684\u6771\u897f\uff0c \u6771\u897f\u653e\u7f6e\u7684\u4f4d\u7f6e",q16:"\u8a18\u4e0d\u8d77\u7d04\u6703\u5730\u9ede\uff0c \u8981\u51c6\u5099\u7684\u7269\u54c1\u6216\u8005\u8a08\u5283\u8981\u505a\u7684\u4e8b",q17:"\u89ba\u5f97\u8eab\u908a\u670b\u53cb\u53ef\u4ee5\u804a\u5929\u6216\u8005\u5e6b\u624b\u7684\u5f88\u5c11",q18:"\u89ba\u5f97\u81ea\u5df1\u53ef\u4ee5\u505a\u6210\u7684\u4e8b\u60c5\u5f88\u5c11\u6216\u8005\u5f88\u5c11\u6709\u4eba\u95dc\u5fc3\u81ea\u5df1",q19:"\u89ba\u5f97\u5f88\u591a\u4e8b\u662f\u56e0\u70ba\u81ea\u5df1\u7f3a\u4e4f\u76f8\u95dc\u4fe1\u606f\u6240\u4ee5\u6703\u505a\u8d77\u4f86\u6709\u56f0\u96e3",q20:"\u6709\u5f88\u591a\u6d3b\u52d5\u6216\u8005\u4fe1\u606f\u662f\u81ea\u5df1\u60f3\u95dc\u6ce8\u7684\uff0c\u4f46\u4e0d\u77e5\u9053\u9014\u5f91"},options:{a:"\u5b8c\u5168\u6c92\u6709",b:"\u5e7e\u5929",c:"\u4e00\u534a\u4ee5\u4e0a\u5929\u6578",d:"\u5e7e\u4e4e\u6bcf\u5929"}},h=a(3),E=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={uuid:null,report:null,error:null,validationErrors:null,isSubmitting:!1},e.chartStyles={anxiety:{backgroundColor:"#e29090"},memory:{backgroundColor:"#66a266"},insomnia:{backgroundColor:"#b5b515"},confidence:{backgroundColor:"#945894"},loneliness:{backgroundColor:"#6f6fb1"},depression:{backgroundColor:"#888888"},active:{backgroundColor:"#ad7a1d"},pressure:{backgroundColor:"#9c3a3a"}},e.handleValidation=function(t){for(var a=[],n=[],l=1;l<=20;l++)n.push("q"+l);return t.forEach((function(e,t){"name"!==t||e||a.push("\u8acb\u586b\u5beb\u4f60\u7684\u300c\u59d3\u540d\u300d"),"email"===t&&(e?e.match(/^.+@.+\..+$/g)||a.push("\u8acb\u586b\u5beb\u6b63\u78ba\u7684\u300c\u96fb\u90f5\u300d"):a.push("\u8acb\u586b\u5beb\u4f60\u7684\u300c\u96fb\u90f5\u300d")),t.match(/^q[0-9]+$/g)&&e&&n.splice(n.indexOf(t),1)})),n.length>0&&a.push("\u8acb\u56de\u7b54\u5168\u90e820\u689d\u554f\u984c"),e.setState({validationErrors:a}),0===a.length},e.handleSubmit=function(t){t.preventDefault();var a=new FormData(t.target);e.handleValidation(a)?(e.setState({isSubmitting:!0}),fetch(d.scriptURL,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(t){t.id&&(e.setState({uuid:t.id}),e.refreshResponse())})).catch((function(e){return console.error("Error!",e.message)})).finally((function(){e.setState({isSubmitting:!1})}))):window.scrollTo(0,0)},e.renderQuestions=function(){var t=null;e.state.validationErrors&&e.state.validationErrors.length>0&&(t=e.state.validationErrors.map((function(e,t){return l.a.createElement("p",{key:t,className:"error-message"},e)})));var a=Object.keys(d.profile).map((function(e){return l.a.createElement("li",{key:e},l.a.createElement("label",{htmlFor:e,className:"mandatory"},d.profile[e]),l.a.createElement("input",{type:"text",id:e,name:e}))})),n=Object.keys(d.questions).map((function(e){return l.a.createElement("li",{key:e},l.a.createElement("p",null,d.questions[e]),l.a.createElement("ul",{className:"choice"},Object.keys(d.options).map((function(t,a){return l.a.createElement("li",{key:a},l.a.createElement("input",{type:"radio",id:e+"_"+t,className:t,name:e,value:t}),l.a.createElement("label",{htmlFor:e+"_"+t},d.options[t]))}))))}));return l.a.createElement("form",{name:"survey",className:"survey_form",onSubmit:e.handleSubmit},l.a.createElement("h1",null,l.a.createElement("span",{className:"icon"},l.a.createElement(u.a,{icon:h.b})),"SMART \u2764 \u60c5\u7dd2\u6307\u6578\u6e2c\u8a66"),t,l.a.createElement("fieldset",{className:"section"},l.a.createElement("legend",{className:"title"},"\u806f\u7d61\u8cc7\u6599"),l.a.createElement("ol",null,a)),l.a.createElement("fieldset",{className:"section"},l.a.createElement("legend",{className:"title mandatory"},"\u5728\u904e\u53bb\u7684\u5169\u500b\u661f\u671f\uff0c\u4f60\u6709\u591a\u7d93\u5e38\u53d7\u4ee5\u4e0b\u554f\u984c\u56f0\u64fe?"),l.a.createElement("ol",null,n)),l.a.createElement("div",null,l.a.createElement("button",{className:"submit",type:"submit",disabled:e.state.isSubmitting},"\u67e5\u770b\u7d50\u679c")))},e.renderResults=function(){if(e.state.uuid&&e.state.report){var t=e.state.report;return e.chartStyles.anxiety.width=.8*t.indices.anxiety+"%",e.chartStyles.memory.width=.8*t.indices.memory+"%",e.chartStyles.insomnia.width=.8*t.indices.insomnia+"%",e.chartStyles.confidence.width=.8*t.indices.confidence+"%",e.chartStyles.loneliness.width=.8*t.indices.loneliness+"%",e.chartStyles.depression.width=.8*t.indices.depression+"%",e.chartStyles.active.width=.8*t.indices.active+"%",e.chartStyles.pressure.width=.8*t.indices.pressure+"%",l.a.createElement("div",{className:"survey_report"},l.a.createElement("h1",null,l.a.createElement("span",{className:"icon"},l.a.createElement(u.a,{icon:h.e})),"\u7d93 SMART \u2764 \u8a55\u4f30"),l.a.createElement("fieldset",{className:"section"},l.a.createElement("legend",null,l.a.createElement("span",{className:"icon category_icon"},l.a.createElement(u.a,{icon:h.d}))),l.a.createElement("p",{className:"title"},"\u98a8\u96aa\u985e\u5225"),l.a.createElement("p",null,t.category)),l.a.createElement("fieldset",{className:"section"},l.a.createElement("legend",null,l.a.createElement("span",{className:"icon comment_icon"},l.a.createElement(u.a,{icon:h.c}))),l.a.createElement("p",{className:"title"},"\u6eab\u99a8\u63d0\u793a"),l.a.createElement("ul",{className:"comments"},t.comments.map((function(e,t){return l.a.createElement("li",{key:t},e)})))),l.a.createElement("fieldset",{className:"section"},l.a.createElement("legend",null,l.a.createElement("span",{className:"icon indices_icon"},l.a.createElement(u.a,{icon:h.a}))),l.a.createElement("p",null,l.a.createElement("span",{className:"title"},"\u7d9c\u5408\u60c5\u7dd2\u6307\u6578")),l.a.createElement("ul",{className:"indices"},l.a.createElement("li",null,"\u7126\u616e\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.anxiety},"\xa0"),"\xa0",t.indices.anxiety,"%"),l.a.createElement("li",null,"\u8a18\u61b6\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.memory},"\xa0"),"\xa0",t.indices.memory,"%"),l.a.createElement("li",null,"\u5931\u7720\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.insomnia},"\xa0"),"\xa0",t.indices.insomnia,"%"),l.a.createElement("li",null,"\u81ea\u4fe1\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.confidence},"\xa0"),"\xa0",t.indices.confidence,"%"),l.a.createElement("li",null,"\u5b64\u7368\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.loneliness},"\xa0"),"\xa0",t.indices.loneliness,"%"),l.a.createElement("li",null,"\u6291\u9b31\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.depression},"\xa0"),"\xa0",t.indices.depression,"%"),l.a.createElement("li",null,"\u6d3b\u8e8d\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.active},"\xa0"),"\xa0",t.indices.active,"%"),l.a.createElement("li",null,"\u58d3\u529b\uff1a",l.a.createElement("div",{class:"bar",style:e.chartStyles.pressure},"\xa0"),"\xa0",t.indices.pressure,"%"))),l.a.createElement("fieldset",{className:"section"},l.a.createElement("legend",{className:"title"},"SMART \u2764 \u5c08\u5c6c\u4e92\u52d5\u8ab2\u7a0b"),l.a.createElement("p",null,"\u5514\u4f7f\u7b49\uff0c\u6bd4\u51fa\u9762\u7747\u91ab\u751f\u6216\u8005\u5468\u570d\u63fe\u4eba\u5e6b\u624b\u65b9\u4fbf\u597d\u591a\uff01"),l.a.createElement("p",null,"\u81ea\u5df1\u505a\u9078\u64c7\uff0c\u96a8\u5fc3\u6240\u60f3\uff01"),l.a.createElement("a",{href:t.link,className:"submit"},"\u958b\u59cb\u63a2\u7d22"),l.a.createElement("p",null)))}return l.a.createElement("h2",null,"\u8a55\u4f30\u4e2d...")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.refreshResponse()}},{key:"refreshResponse",value:function(){var e=this;this.state.uuid&&fetch(d.scriptURL+"?"+new URLSearchParams({id:this.state.uuid}),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({report:t.report})})).catch(console.log)}},{key:"render",value:function(){return this.state.error?l.a.createElement("div",null,this.state.error):this.state.uuid?this.renderResults():this.renderQuestions()}}]),a}(n.Component);var p=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=document.getElementById("mindfultech-survey");y&&s.a.render(l.a.createElement(p,null),y),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.39538abc.chunk.js.map